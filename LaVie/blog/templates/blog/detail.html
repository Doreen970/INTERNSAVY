<!-- blog/templates/blog/post_detail.html -->
{% extends "blog/base.html" %}

{% block content %}
<div class="text-center">
<h1>{{ article.title }}</h1>
<!--{% with sentences=article.content|linebreaksbr|striptags|default:'' %}
        <p>{{ sentences|truncatewords_html:20|safe }}</p>
    {% endwith %}--->
<p>{{ article.content|safe }}</p>
{% if article.image %}
<img src="{{ article.image.url }}" />
{% endif %}
<p>Date published: {{ article.pub_date }}</p>
<p>Author: {{ article.created_by.username }}</p>

<h2>Comments</h2>
    {% for comment in comments %}
        <p>{{ comment.content }} - {{ comment.author.username }} ({{ comment.pub_date }})</p>
    {% endfor %}

    <h3>Add a Comment</h3>
    <form method="post" action="{% url 'detail' slug=article.slug %}">
        {% csrf_token %}
        {{ form.as_p }}
        <button type="submit">Post Comment</button>
    </form>
</div>
{% endblock content %}
